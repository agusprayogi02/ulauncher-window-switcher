# w_list = [
#     "0x0760005b 4  duncanlock.net",
#     "0x0ae02fed 4  icons.svg - Inkscape",
#     "0x0760012f 12  LanguageTool-5.5",
#     "0x0760014f 4  templates",
#     "0x0880000c 23  8 Hour Nature Sound Relaxation-Soothing Forest Birds Singing-Relaxing Sleep Sounds-Without Music-NAp.opus - GNOME MPlayer",
#     "0x0760025b 1  notes",
#     "0x076000df 11  duncan",
#     "0x0760006b 4  duncanlock.net",
#     "0x0c400008 1  Paper690u",
#     "0x0c600005 4  .todo.txt - sleek",
#     "0x0c000007 18  ~/reto-stuff/Pokemon Throwback v211001/README - Mousepad",
#     "0x076002cf 18  dev",
#     "0x0dc0000e 17  Downloads",
#     "0x0760031f 14  plugins",
#     "0x07600377 19  ulauncher-window-switcher",
#     "0x076004bb 15  standard-ebooks",
#     "0x0e000008 15  Search The Sky",
#     "0x0e200002 15  ~/Projects/standard-ebooks/c-m-kornbluth_search-the-sky/src/epub/text/body.xhtml - Lite XL",
#     "0x0c0026b2 0  *Untitled 2 - Mousepad",
#     "0x076005cf 19  ulauncher-workspace-switcher",
#     "0x0760070b 8  duncan",
#     "0x0760083b 10  antora-ui-default",
#     "0x07200005 23  YouTube Music",
#     "0x076008ab 16  duncan",
#     "0x076008cb 6  nominim",
#     "0x0e800002 6  ~/Projects/learn-nim/nimsidian/nimsidian.nim - Lite XL",
#     "0x076008db 14  lite-xl-plugins",
#     "0x0fe00007 23  Old Skin - The War on Drugs, Adam Granduciel, - Quod Libet",
#     "0x0760094b 11  duncan@odroidhc4: ~",
#     "0x07800002 14  ~/dev/lite-xl/data/plugins/language_css.lua - Lite XL",
#     "0x0b400002 14  Lite XL",
#     "0x07600a3b 6  nim-docset",
#     "0x07028c38 18  reto-stuff",
#     "0x0580001c 18  Untitled 1 - LibreOffice Writer",
#     "0x07600a6b 0  duncan-desktop:duncan",
#     "0x07067058 0  duncan",
#     "0x0707f442 0  Downloads",
#     "0x10400008 0  picozine_1_1.pdf",
#     "0x07600acb 4  windows",
#     "0x0709f67e 6  home-office",
#     "0x07600adb 6  nimsidian",
#     "0x07e00008 0  thebean_riddles&shrooms.pdf",
#     "0x05400003 0  Signal",
#     "0x08c00005 1  Beekeeper-Studio",
#     "0x05000005 1  notes - Obsidian v0.13.19",
#     "0x05600003 6  mattaylor/whip: Simple fast http server for nim based on httpbeast and nest for high performance routing - Google Chrome",
#     "0x05600005 4  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x05600006 4  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x05600007 5  NicholasLYang/codemkin - Google Chrome",
#     "0x05600008 1  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x05600009 1  New Tab - Google Chrome",
#     "0x0560000a 1  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x0560000b 12  Release Roadmap | dev.languagetool.org - Google Chrome",
#     "0x0560000c 0  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x0560000d 0  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x0560000e 0  About me - Google Chrome",
#     "0x0560000f 1  Obsidian mobile support · Issue #57 · denolehov/obsidian-git - Google Chrome",
#     "0x05600010 16  bcache - Google Chrome",
#     "0x05600011 0  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x05600012 4  Lighthouse Report - Google Chrome",
#     "0x05600013 13  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x05600014 4  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x05600015 0  Feeds (188) - Miniflux - Google Chrome",
#     "0x05600016 4  SublimeGit Documentation — SublimeGit 1.0.36 documentation - Google Chrome",
#     "0x05600017 0  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x05600018 0  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x05600019 4  Improved dark mode default styling with the color-scheme CSS property and the corresponding meta tag - Google Chrome",
#     "0x0560001a 0  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x0560001b 3  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x0560001c 18  Download Pico-8 Fanzine #1 by sectordub - itch.io - Google Chrome",
#     "0x0560001d 3  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x0560001e 0  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x0560001f 4  Axiomatic CSS and Lobotomized Owls – A List Apart - Google Chrome",
#     "0x05600020 15  Search the Sky, by Frederik Pohl and C. M. Kornbluth, a Project Gutenberg E-Book - Google Chrome",
#     "0x05600021 13  New Tab :: Auto Tab Discard - Google Chrome",
#     "0x05600022 16  twpayne/chezmoi: Manage your dotfiles across multiple diverse machines, securely. - Google Chrome",
#     "0x05600023 1  New Tab - Google Chrome",
#     "0x05600024 0  New Tab - Google Chrome",
#     "0x05600025 14  Integration with tree-sitter? · Discussion #776 · lite-xl/lite-xl - Google Chrome",
#     "0x05600026 1  FastComments - Commenting Done Right - Google Chrome",
#     "0x05600027 11  Chronograf - Google Chrome",
#     "0x05600028 1  New Tab - Google Chrome",
#     "0x05600029 11  Best way to monitor actual pool usage (in terms of bandwidth -- i.e. mb/s) at a set interval? · Issue #4284 · openzfs/zfs - Google Chrome",
#     "0x0560002a 18  Amiberry 3.1 Screen position issue - RetroPie Forum - Google Chrome",
#     "0x0560002b 0  Sublime Text License Key - duncan.lock@gmail.com - Gmail - Google Chrome",
#     "0x0560002c 17  Operating system images – Raspberry Pi - Google Chrome",
#     "0x0560002d 19  Not working, stuck at loading · Issue #11 · dflock/ulauncher-window-switcher - Google Chrome",
#     "0x0560002e 0  New Tab - Google Chrome",
#     "0x0560002f 17  Fun Programming - video tutorials to learn creative coding - Google Chrome",
#     "0x05600030 8  OrkoHunter/keep: A Meta CLI toolkit : Personal shell command keeper and snippets manager - Google Chrome",
#     "0x05600031 10  Add individual background styles for admonitions (!152) · Merge requests · Antora / Antora Default UI · GitLab - Google Chrome",
#     "0x05600032 23  The War on Drugs music, videos, stats, and photos | Last.fm - Google Chrome",
#     "0x05600033 14  Tree-sitter｜Syntax Highlighting - Google Chrome",
#     "0x05600034 6  std/os - Google Chrome",
#     "0x05600036 6  packages/packages.json at master · nim-lang/packages - Google Chrome",
#     '0x05600037 0  How to Fix The "Connection reset by peer" SSH Error - Google Chrome',
#     "0x05600038 0  I Miss RSS - Wilcosky - Google Chrome",
#     "0x05600039 0  ADHD wiki — Explaining ADHD with memes - Google Chrome",
#     "0x0560003a 18  Raspberry Pi PXE Boot - Network booting a Pi 4 without an SD card - Linuxhit - Google Chrome",
#     "0x0d800008 0  2022 British Columbia  Personal Tax Credits Return",
#     "0x0da00008 0  2022 Personal Tax Credits Return",
#     "0x0ea00008 0  booklet_60ad69dfd13bf.pdf",
#     "0x05600218 0  woob - Applications - Google Chrome",
#     "0x07600b0b 0  duncan",
#     "0x07131c23 0  btop-x86_64-linux-musl",
#     "0x0ec00003 4  ~/Projects/duncanlock.net/new-post.sh (duncanlock.net) - Sublime Text",
#     "0x0ee00003 6  ~/dev/central - Sublime Merge (UNREGISTERED)",
#     "0x07600b3b 19  ulauncher-window-switcher",
#     "0x0ec070f3 19  ~/Projects/ulauncher-window-switcher/main.py (ulauncher-window-switcher) - Sublime Text",
#     "0x03c00007 19  Ulauncher - Application Launcher",
# ]

import subprocess

result = subprocess.run(
    ['wmctrl -l | awk \'{ if( $2 != "-1") { $3="";  print $0} }\''],
    stdout=subprocess.PIPE,
    stderr=subprocess.PIPE,  # equivalent to capture_output=True
    shell=True,
    universal_newlines=True,  # equivalent to text=True
).stdout

print(result)
print()

w_list = [y for y in (x.strip() for x in result.split("\n")) if y]

print(w_list)
print()

for x in result.split("\n"):
    print(x)

print()
w_dict = {
    x[1].split(maxsplit=2)[0]: {
        "ws": int(x[1].split(maxsplit=2)[1]),
        "name": x[1].split(maxsplit=2)[2],
    }
    for x in enumerate(w_list)
}
print(w_dict)

# for w in w_list:
#     print(w)
#     print(w.split(maxsplit=2))
#     print(
#         {
#             "ws": int(w.split(maxsplit=2)[1]),
#             "name": w.split(maxsplit=2)[2],
#         }
#     )
#     print()
